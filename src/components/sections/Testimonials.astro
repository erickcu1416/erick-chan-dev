---
import { t } from '@i18n/index';

interface Props {
  locale: 'es' | 'en';
}

const { locale } = Astro.props;
const testimonials = t('testimonials.items', locale) as unknown as Array<{
  name: string;
  position: string;
  text: string;
  rating: number;
}>;
---

<section class="testimonials-area bgc-black text-white py-130 rpy-100">
  <div class="container bordered-x">
    <div class="row justify-content-center">
      <div class="col-xl-7 col-lg-9 col-md-11">
        <div class="section-title mb-60 text-center" data-aos="fade-up" data-aos-duration="1500" data-aos-offset="50">
          <span class="subtitle mt-10 mb-15">{t('testimonials.subtitle', locale)}</span>
          <h2>{t('testimonials.title', locale)}</h2>
        </div>
      </div>
    </div>

    <div class="row">
      {testimonials.map((testimonial, index) => (
        <div class="col-lg-4 col-md-6" data-aos="fade-up" data-aos-duration="1500" data-aos-delay={index * 100} data-aos-offset="50">
          <div class="testimonial-card">
            <div class="stars mb-20">
              {[...Array(testimonial.rating)].map(() => (
                <i class="fas fa-star"></i>
              ))}
            </div>
            <p class="testimonial-text">"{testimonial.text}"</p>
            <div class="testimonial-author mt-30">
              <h5 class="name">{testimonial.name}</h5>
              <span class="position">{testimonial.position}</span>
            </div>
          </div>
        </div>
      ))}
    </div>
  </div>
</section>

<style>
  .testimonial-card {
    background: rgba(255, 255, 255, 0.03);
    padding: 40px 30px;
    border-radius: 15px;
    border: 1px solid rgba(255, 255, 255, 0.1);
    height: 100%;
    transition: all 0.3s ease;
  }

  .testimonial-card:hover {
    background: rgba(255, 255, 255, 0.05);
    border-color: rgba(0, 123, 255, 0.3);
    transform: translateY(-5px);
  }

  .stars {
    display: flex;
    gap: 5px;
    color: #ffc107;
  }

  .stars i {
    font-size: 16px;
  }

  .testimonial-text {
    font-size: 16px;
    line-height: 1.7;
    color: rgba(255, 255, 255, 0.9);
    font-style: italic;
    margin: 0;
  }

  .testimonial-author {
    border-top: 1px solid rgba(255, 255, 255, 0.1);
    padding-top: 20px;
  }

  .testimonial-author .name {
    font-size: 18px;
    font-weight: 600;
    margin: 0 0 5px 0;
    color: #fff;
  }

  .testimonial-author .position {
    font-size: 14px;
    color: rgba(255, 255, 255, 0.7);
  }

  @media (max-width: 991px) {
    .testimonial-card {
      margin-bottom: 30px;
    }
  }

  @media (max-width: 767px) {
    .testimonial-card {
      padding: 30px 20px;
    }

    .testimonial-text {
      font-size: 15px;
    }
  }
</style>
